version: 1
backend:
  phases:
    build:
      commands:
        - '# Go into the webApp folder'
        - cd webApp
        - '# Install the Python packages'
        - pip install -r requirements.txt
    start:
      commands:
        - '# Start the Gunicorn server'
        - gunicorn --bind 0.0.0.0:8080 backend:app
frontend:
  phases:
    build:
      commands: []
  artifacts:
    baseDirectory: webApp
    files:
      - '**/*'
  cache:
    paths: []
rewrites:
  - source: '/api/<*>'
    # Proxy API requests to the running Gunicorn server
    target: 'http://localhost:8080/api/<*>'
    status: '200'